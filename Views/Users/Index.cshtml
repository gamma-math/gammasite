@model IEnumerable<SiteUser>

@{
    ViewData["Title"] = "Medlemmer";
}

<h1 class="">Medlemsoversigt</h1>
<br />
<table class="table table-sm table-bordered display nowrap datatable" id="medlemmer">
    <thead class="thead-dark">
        <tr>
            <th></th>
            <th>Navn</th>
            <th>Årgang</th>
            <th>Beskæftigelse</th>
            <th>Email</th>
            <th>Telefon</th>
        </tr>
    </thead>
    @foreach (SiteUser user in Model)
    {
        if (new[] { UserStatus.BETALT, UserStatus.SKYLDER }.Contains(user.Status))
        {
    <tr>
        <td></td>
        <td>@user.Navn</td>
        <td>@user.Aargang</td>
        <td>@if (@user.Visibility.IsVisible()) {@user.Beskaeftigelse}</td>
        <td>@if (@user.Visibility.IsVisible()) {@user.Email}</td>
        <td>@if (@user.Visibility.IsVisible()) {@user.PhoneNumber}</td>
    </tr>
        }
    }
</table>